<html>
  <head>
    <meta charset="utf-8" />
    <title>Task 3</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="wrap" id="wrap">
      <h1>Переключение слайдера</h1>
      <div class="roadMap__container yellow">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint ball" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>

      <div class="roadMap__container red">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint ball" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>

      <div class="roadMap__container blue">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint ball" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>
      <div class="roadMap__container yellow">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint ball" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>
      <div class="wrap" id="wrap">
        <h1>Переключение слайдера</h1>
        <div class="roadMap__container yellow">
          <button class="navButton"><</button>
          <div class="roadMap">
            <div class="roadMapPoint ball" data-id="1"></div>
            <div class="roadMapPoint" data-id="2"></div>
            <div class="roadMapPoint" data-id="3"></div>
            <div class="roadMapPoint" data-id="4"></div>
          </div>
          <button class="navButton">></button>
        </div>
  
        <div class="roadMap__container red">
          <button class="navButton"><</button>
          <div class="roadMap">
            <div class="roadMapPoint" data-id="1"></div>
            <div class="roadMapPoint" data-id="2"></div>
            <div class="roadMapPoint ball" data-id="3"></div>
            <div class="roadMapPoint" data-id="4"></div>
          </div>
          <button class="navButton">></button>
        </div>
  
        <div class="roadMap__container blue">
          <button class="navButton"><</button>
          <div class="roadMap">
            <div class="roadMapPoint" data-id="1"></div>
            <div class="roadMapPoint ball" data-id="2"></div>
            <div class="roadMapPoint" data-id="3"></div>
            <div class="roadMapPoint" data-id="4"></div>
          </div>
          <button class="navButton">></button>
        </div>
        <div class="roadMap__container yellow">
          <button class="navButton"><</button>
          <div class="roadMap">
            <div class="roadMapPoint ball" data-id="1"></div>
            <div class="roadMapPoint" data-id="2"></div>
            <div class="roadMapPoint" data-id="3"></div>
            <div class="roadMapPoint" data-id="4"></div>
          </div>
          <button class="navButton">></button>
        </div>

      <div class="roadMap__container red">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint ball" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>

      <div class="roadMap__container blue">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint ball" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>
      
      
    <script>
     var container = {
       ballpos: undefined,
       mapRight: function(par){
         var ball = par.querySelector('.ball');
         this.ballpos = ball.getAttribute('data-id');
         right(par);
       },
       mapLeft: function(par){
         var ball = par.querySelector('.ball');
         this.ballpos = ball.getAttribute('data-id');
         left(par);
       }
     }
    
    var right = function (){
      for(var i = 0 ; i <= 3 ; i++){
        var current = container.ballpos;
        var points = par.querySelectorAll('.roadMapPoint');
        points[i].className = 'roadMapPoint';
        if (current <= 3){
          points[current].classList  = 'roadMapPoint ball';
        } else {
          points[0].classList  = 'roadMapPoint ball';
        }
      }
    }

    var left = function (){
      for(var i = 0 ; i <= 3 ; i++){
        var current = container.ballpos;
        var points = par.querySelectorAll('.roadMapPoint');
        points[i].className = 'roadMapPoint';
        
          if (current <= 1 ){
          points[3].classList  = 'roadMapPoint ball';
        } else {
          points[current-2].classList  = 'roadMapPoint ball';
        }
      }
    }

    var Choice = function(){
      par = event.target.parentElement;
      if (event.target.innerText === ">"){
        container.mapRight(par);
      }
      if (event.target.innerText === "<"){
        container.mapLeft(par);
      }
    }
    
    var buttons = document.querySelectorAll('.navButton');
    buttons.forEach(function (){
        addEventListener('click' , Choice);
        });

    </script>
  </body>
</html>
